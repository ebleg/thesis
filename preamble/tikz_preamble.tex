% --------------------------------------------------------------------
%% PACKAGES
% --------------------------------------------------------------------

\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{etoolbox}

\usetikzlibrary{patterns,decorations.pathmorphing,positioning}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{positioning}
\usetikzlibrary{intersections, pgfplots.fillbetween}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{calc}
\usetikzlibrary{cd}
\usepgfplotslibrary{fillbetween}
\usetikzlibrary{external}

\pgfkeys{/pgf/number format/.cd,1000 sep={\,}}
\pgfplotsset{compat=newest}
\pgfplotsset{every tick label/.append style={font=\tiny}}
\pgfplotsset{%
    colormap={accentmap}{color=(accent1) color=(accent3) color=(accent4)}%
}%    

% To make tikzcd work with externalize
\AtBeginEnvironment{tikzcd}{\tikzexternaldisable}
\AtEndEnvironment{tikzcd}{\tikzexternalenable}

% --------------------------------------------------------------------
%% SETTINGS
% --------------------------------------------------------------------

% Make sure that TikZ cache files are named properly
\newcommand{\inputtikz}[1]{%
  \tikzsetnextfilename{#1}%
  \input{#1}%
}
