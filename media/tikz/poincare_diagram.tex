\begin{tikzpicture}[line cap=round,line join=round]
  % BACKGROUND FILLS
  \fill [main, domain=-4.3:4.3, accent1!40] plot (\x, {0.25*\x*\x}) -- cycle; % main graph
  \fill [main, domain=-4.3:4.3, accent2!40] (-4.3, 0) -- plot (\x, {0.25*\x*\x}) -- (4.3, 0) -- cycle; % main graph
  \fill [main, domain=-4.3:4.3, todoGray!30] (-4.3, 0) -- (-4.3, -2.5) -- (4.3, -2.5) -- (4.3, 0) -- cycle; % main graph

  % MAIN DIAGRAM
  \draw [main,->] (0,-0.3) -- (0,4.8)  % vertical axis
    node [label={[above,yshift=-0.2cm]$\scriptstyle\det(A)$}] {};

  \draw [main,->] (-4.5,0) -- (4.5,0)  % horizontal axis
    node [label={[right,yshift=-0.5ex]$\scriptstyle \trace(A)$}] {}; 

  \draw [main, domain=-4.3:4.3, smooth] plot (\x, {0.25*\x*\x}); % main graph
  %\node at (-4,4) [pin={[above]$\scriptstyle\Delta=0$}] {};

  %\node at (-4,4) [pin={[above]$\scriptstyle\Delta=0$}] {};

  \node at (4,4.2) [pin={[above,align=left, yshift=-0.2cm]%
    {$\scriptstyle \det(A)\,=\,\frac{\trace^2(A)}{4}$}}] {};

  % TEMPLATES describing areas
  \node at ( 0  ,-1.4) {\template\saddle};
  \node at (-3.5  , 1  ) {\template\sink};
  \node at ( 3.5  , 1  ) {\template\source}; 
  \node at (-1.8, 3.7) {\template\spiralsink};
  \node at ( 1.8, 3.7) {\template\spiralsource};

  % TEMPLATES labeling lines and points
  \node at ( 0  , 1.1) [pin={[draw,fill=white,right,xshift=0.3cm]%
    \template\centre}] {};
  \node at (-3  , 0  ) [pin={[draw,fill=white,below,yshift=-1cm]%
    \template\stablefp}] {};
  \node at ( 3  , 0  ) [pin={[draw,fill=white,below,yshift=-1cm]%
    \template\unstablefp}] {};
  \node at (-3.5,{0.25*3.5*3.5}) [pin={[draw,left,fill=white,xshift=-1.15cm,yshift=-0.3cm]%
    \template\degensink}] {};
  \node at (3.5,{0.25*3.5*3.5}) [pin={[draw,fill=white,right,xshift=1.15cm,yshift=-0.3cm]%
    \template\degensource}] {};
  \node at ( 0  , 0  ) [pin={[draw,above left,fill=white,align=center,xshift=-0.3cm]%
    \templatecaption{uniform}\\[-1ex]\templatecaption{motion}}] {};

\end{tikzpicture}
